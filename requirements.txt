plotly
import streamlit as st

st.set_page_config(page_title="MBTI x 포켓몬 추천", page_icon="✨")

st.title("✨ MBTI로 알아보는 나와 어울리는 포켓몬")
st.write("MBTI를 선택하면, 그 성격과 어울리는 포켓몬을 추천해드릴게요! 이미지와 함께 자세한 설명도 드려요.")

mbti_types = [
    "INTJ", "INTP", "ENTJ", "ENTP",
    "INFJ", "INFP", "ENFJ", "ENFP",
    "ISTJ", "ISFJ", "ESTJ", "ESFJ",
    "ISTP", "ISFP", "ESTP", "ESFP"
]

# 포켓몬 정보: 이름, 이미지 URL, 설명
mbti_pokemon = {
    "INTJ": {
        "pokemon": "뮤츠",
        "image": "https://assets.pokemon.com/assets/cms2/img/pokedex/full/150.png",
        "reason": "INTJ는 전략적인 사고와 독립적인 성향을 가진 유형입니다. 뮤츠는 인공적으로 만들어졌지만 누구보다도 지능적이고 냉철한 판단력을 지닌 포켓몬으로, 효율성과 목표 지향적인 면에서 INTJ와 완벽하게 어울립니다."
    },
    "INTP": {
        "pokemon": "프리져",
        "image": "https://assets.pokemon.com/assets/cms2/img/pokedex/full/144.png",
        "reason": "INTP는 탐구심이 강하고 논리적이며, 독립적인 사고를 중시합니다. 프리져는 신비로운 외형과 고요한 분위기를 지닌 전설의 포켓몬으로, INTP처럼 혼자서 깊은 사유에 빠지는 모습이 잘 어울립니다."
    },
    "ENTJ": {
        "pokemon": "갸라도스",
        "image": "https://assets.pokemon.com/assets/cms2/img/pokedex/full/130.png",
        "reason": "ENTJ는 리더십이 뛰어나고 강한 추진력을 가진 유형입니다. 갸라도스는 평범한 잉어킹에서 진화하여 강력한 존재가 되듯, ENTJ도 자신의 능력과 결단력으로 환경을 장악해 나갑니다."
    },
    "ENTP": {
        "pokemon": "피카츄",
        "image": "https://assets.pokemon.com/assets/cms2/img/pokedex/full/025.png",
        "reason": "ENTP는 창의적이고 사교성이 풍부하며, 늘 새로운 것을 시도하려 합니다. 피카츄는 호기심 많고 활기찬 성격으로, 다양한 상황에 유연하게 적응하며 주변 사람들에게 즐거움을 줍니다. ENTP의 활발한 에너지와 잘 맞습니다."
    },
    "INFP": {
        "pokemon": "이브이",
        "image": "https://assets.pokemon.com/assets/cms2/img/pokedex/full/133.png",
        "reason": "INFP는 따뜻한 마음과 풍부한 상상력을 지닌 유형입니다. 이브이는 다양한 형태로 진화할 수 있는 잠재력을 가진 포켓몬으로, 자신의 가치에 따라 다양한 가능성을 꿈꾸는 INFP와 닮았습니다."
    }
    # 필요 시 계속 추가 가능
}

selected_mbti = st.selectbox("당신의 MBTI를 선택하세요:", mbti_types)

if selected_mbti and selected_mbti in mbti_pokemon:
    data = mbti_pokemon[selected_mbti]
    st.subheader(f"🎉 {selected_mbti}와 어울리는 포켓몬은...")

    st.image(data["image"], caption=f"{data['pokemon']}", use_column_width=True)
    st.markdown(f"### 🐾 {data['pokemon']}")
    st.write(data["reason"])
else:
    st.warning("선택된 MBTI에 대한 포켓몬 정보가 아직 등록되지 않았습니다.")
